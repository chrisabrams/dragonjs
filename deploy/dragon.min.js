var Dragon=Dragon||{};Dragon.Version="0.0.1",typeof window=="undefined"&&(exports=module.exports=Dragon),Dragon.Class=function(a){var b=a.constructor||function(){},c=a.extend||!1;try{this.extend(c)}catch(d){console.log(d.message)}},Dragon.Class.prototype.getParentClass=function(a){var b=window[a]||!1;if(b=="undefined"||typeof b!="function")throw{name:"ClassNonexistent",message:"The class "+a+" does not exist"}},Dragon.Class.prototype.getParentClassConstructor=function(a){var b=window[a]||!1;if(b=="undefined"||typeof b!="function")throw{name:"ClassNonexistent",message:"The class "+a+" does not exist"};return this.prototype.constructor=b.prototype.constructor},Dragon.View=function(a){var b=this;a.el&&(b.el=document.getElementById(a.el)),a.events&&(b.events=a.events);if(a.height)switch(a.height){case"window":b.height=window.innerHeight,b.el.style.height=b.height+"px";break;default:typeof a.height=="number"&&(b.height=a.height,b.el.style.height=b.height+"px")}else b.height=b.el.offsetHeight;a.init&&(b.init=a.init),a.parent&&(b.parent=a.parent),a.template?b.template=a.template:b.template==0;if(a.width)switch(a.width){case"window":b.width=window.innerWidth,b.el.style.width=b.width+"px";break;default:typeof a.width=="number"&&(b.width=a.width,b.el.style.width=b.width+"px")}else b.width=b.el.offsetWidth;b.init(),typeof b.template=="object"&&b.renderTemplate(b.template)},Dragon.View.prototype.events={},Dragon.View.prototype.delegateEvents=function(){var a=this.events;a!=null&&a.foreach(function(a,b){var c=a.toString();switch(c){case this.startsWith("#"):b=="click"&&console.log("OK we're getting somewhere");break;case this.startsWith("."):break;case this.starsWith("["):}})},Dragon.View.prototype.init=function(){},Dragon.View.prototype.parent=!1,Dragon.View.prototype.renderTemplate=function(a){var b=this;if(a.source&&window.XMLHttpRequest){var c=new XMLHttpRequest;c.onreadystatechange=function(){if(c.readyState==4&&c.status==200){var d=document.createElement("div");d.innerHTML=c.responseText;var e=d.getElementsByTagName("script");_.find(e,function(c,d){if(c.id==a.id){b.el.innerHTML=c;return}})}},c.open("GET",a.source,!0),c.send()}},Array.prototype.remove=function(a,b){var c=this.slice((b||a)+1||this.length);return this.length=a<0?this.length+a:a,this.push.apply(this,c)},Object.prototype.foreach=function(a){var b=this;for(var c in b){var d=b[c];b.hasOwnProperty(c)&&a(c,d)}},String.prototype.startsWith=function(a){return a===this.substr(0,a.length)}